<html>

<head>
    <title>Plant Generator</title>
    <link rel="stylesheet" href="./style.css">
</head>
<style>
    .background {
        width: 100VW;
        height: 100VH;
        position: absolute;
        z-index: -5;
        top: 0;
        left: 0;
        object-fit: cover;
        background-size: cover;

    }
</style>

<body>

    <div id="filtrenuit"></div>

    <div class="buttons">
        <button class="boutonfeuilles" type="button">
            Changer feuilles</button>
        <button class="bouton" type="button">
            Changer l'image de fond</button>
        <button class="Screenshot">Générer</button>
        <button class="boutonfenêtre" type="button">
            Changer fenêtre</button>

        <div class="container-boutons-jour-nuit">
            <div class="bouton-jour"><img src="jour bouton.png" alt="monbouton" class="monboutonjour"></div>
            <div class="bouton-nuit"><img src="nuit bouton.png" alt="monbouton" class="monboutonnuit" id="gege"></div>
        </div>
    </div>

    <div class="texte">
        <textarea type="text" id="monTextarea" placeholder="Nommez votre plante"></textarea>
    </div>

    <audio src="just-relax-11157.mp3" controls autoplay loop></audio>

    <h1 class="maurice" id="mocha">Plant Generator</h1>
    <h1 class="FEMME"></h1>
    </div>

    <div id="rendutexte">

    </div>

    <div class="maurice"></div>


    <img src="fond vert.png" class="background">
    <img src="jour.png" id="imageAffichee">
    <img src="fenetre.png" class="fenetre1">
    <img src="fenetre 2.png" class="fenetre2">
    <img src="fenetre4.png" class="fenetre3">
    <img src="table code.png" class="table">
    <img src="Fichier 2.png" class="premiereplante">
    <img src="pot.png" class="pot">
    <img src="inter.png" class="interface">

    <script src="./js/index.js"></script>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
    integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    function Screenx() {
        console.log("pokemon")
        var test = 1;
        var canvasPromise = html2canvas(document.querySelector("body"), {
            useCORS: true
        });

        canvasPromise.then((canvas) => {
            console.log(canvas)


            var dataURL = canvas.toDataURL("image/png");
            console.log(dataURL)

            var img = new Image();
            img.src = dataURL;
            img.download = "plante";

            var a = document.createElement("a");
            a.innerHTML = "DOWNLOAD ton image";
            a.target = "_blank";
            a.href = img.src;
            a.download = img.download;

            document.body.appendChild(a)

            a.click()
            a.remove()

        })
    };

    document.querySelector(".Screenshot").addEventListener("click", Screenx);
</script>

</html>